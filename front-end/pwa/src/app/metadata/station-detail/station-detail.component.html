<div *ngIf="station" class="card border-0">
    <div class="card-body p-0">

        <div class="card-title fw-bold">{{ station.id + ' - ' + station.name }}</div>

        <div class="card border-0">
            <div class="card-header px-0 fw-bold cursor-pointer" (click)="showCharacteristics = !showCharacteristics">
                <i class="me-1 bi"
                    [ngClass]="{ 'bi-chevron-down':showCharacteristics, 'bi-chevron-right':!showCharacteristics }"></i>Characteristics
            </div>
            <div *ngIf="showCharacteristics" class="card-body  px-0">
                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>

                </div>

                <app-text-input [controlLabel]="'Id'" [value]="station.id"></app-text-input>
                <app-text-input [controlLabel]="'Name'" [value]="station.name"></app-text-input>
            </div>

            <!-- <div class="card-footer bg-transparent d-flex justify-content-end px-0">
                <button type="button" class="btn btn-sm btn-outline-primary" (click)="onSaveClick()"
                    [disabled]="!bAllowSave">
                    Save
                </button>
            </div> -->

        </div>

        <div class="card border-0">
            <div class="card-header px-0 fw-bold cursor-pointer"
                (click)="showElements = !showElements; loadElements();">
                <i class="me-1 bi"
                    [ngClass]="{ 'bi-chevron-down':showElements, 'bi-chevron-right':!showElements }"></i>Elements
            </div>
            <div *ngIf="showElements" class="card-body  px-0">

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                </div>

                <table class="table table-striped table-hover table-sm">
                    <thead>
                        <tr>
                            <th style="width: 2%;"></th>
                            <th style="width: 3%;">Id</th>
                            <th style="width: 10%;">Name</th>
                            <th style="width: 85%;">Description</th>
                        </tr>
                    </thead>
                    <tbody class="table-group-divider">
                        <ng-container *ngFor="let row of elements">
                            <tr class="cursor-pointer" (click)=" row.selected = !row.selected;">
                                <td>
                                    <i class="bi"
                                        [ngClass]="{ 'bi-chevron-down':row.selected, 'bi-chevron-right':!row.selected }"></i>
                                </td>
                                <td>{{ row.elementId}}</td>
                                <td>{{ row.elementName}}</td>
                                <td>{{ row.elementDescription}}</td>
                            </tr>

                            <tr *ngIf="row.selected">
                                <td></td>
                                <td></td>
                                <td></td>
                                <td>
                                    todo
                                </td>

                            </tr>

                        </ng-container>


                    </tbody>
                </table>

            </div>

        </div>

        <div class="card border-0">
            <div class="card-header px-0 fw-bold cursor-pointer" (click)="showForms = !showForms; loadForms()">
                <i class="me-1 bi" [ngClass]="{ 'bi-chevron-down':showForms, 'bi-chevron-right':!showForms }"></i>Forms
            </div>
            <div *ngIf="showForms" class="card-body px-0">

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-sm btn-outline-secondary"
                        (click)="dlgFormSelector.openDialog(getFormIds())">Edit</button>
                    <app-form-selector-dialog #dlgFormSelector [okButtonLabel]="'Save'"
                        (ok)="onFormsSelected($event)"></app-form-selector-dialog>
                </div>

                <div class="px-3">
                    <app-table-view
                        [columnsData]="[ {id: 'sourceId', name: 'Id'}, {id: 'sourceName', name: 'Name'}, {id: 'sourceDescription', name: 'Description'}  ]"
                        [rowsData]="forms" (rowDataClicked)="onFormDeleteClick($event)"></app-table-view>
                </div>


            </div>
        </div>

        <div class="card border-0">
            <div class="card-header px-0 fw-bold cursor-pointer" (click)="showContacts = !showContacts">
                <i class="me-1 bi"
                    [ngClass]="{ 'bi-chevron-down':showContacts, 'bi-chevron-right':!showContacts }"></i>Contacts
            </div>
            <div *ngIf="showContacts" class="card-body">

            </div>
        </div>

    </div>



</div>